import { useMemo } from 'react';
import 'twin.macro';
import tw, { styled, theme } from 'twin.macro';

interface LogoLinkProps {
  size?: 'sm' | 'md' | 'lg';
}

interface LogoSVGProps {
  variant?: 'light' | 'dark';
  stroke?: boolean;
}

type LogoProps = LogoLinkProps & LogoSVGProps;

const LogoLink = styled.div<LogoLinkProps>(({ size }) => [
  size === 'sm' && tw`w-10`,
  size === 'md' && tw`w-16`,
  size === 'lg' && tw`w-20`,
]);

function LambSvg({ variant, stroke }: LogoSVGProps) {
  const pathVariant = useMemo(
    () => ({
      fill: variant === 'light' ? theme`colors.brand.white` : theme`colors.brand.black`,
      stroke: stroke
        ? variant === 'light'
          ? theme`colors.brand.black`
          : theme`colors.brand.white`
        : 'none',
    }),
    [stroke, variant]
  );

  return (
    <svg viewBox='0 0 387 313' fill='none' xmlns='http://www.w3.org/2000/svg'>
      <path
        d='M385.725 236.079C385.42 245.32 385.115 254.096 384.815 262.411C384.51 270.745 384.205 278.083 383.905 284.439C383.6 290.797 383.452 294.88 383.452 296.7C382.842 302.76 381.252 306.918 378.684 309.191C376.107 311.454 371.796 312.601 365.741 312.601H278.092C290.806 309.276 303.142 303.97 315.103 296.7C327.064 289.429 337.883 281.038 347.576 271.495C357.265 261.959 365.438 251.898 372.104 241.289C378.757 230.701 383.442 224.485 386.168 214.802C386.165 222.37 386.023 226.84 385.725 236.079Z'
        fill={pathVariant.fill}
        stroke={pathVariant.stroke}
        strokeWidth={stroke ? '1' : '0'}
      />
      <path
        d='M0.16748 312.604C10.761 302.915 21.127 290.882 31.273 276.498C41.414 262.121 50.2699 246.75 57.8431 230.401C57.5381 236.461 58.0706 243.729 59.4332 252.203C60.7959 260.681 62.9111 269.004 65.7939 277.178C68.6666 285.356 72.377 292.702 76.9199 299.205C81.4604 305.718 86.7559 310.181 92.8165 312.604H0.16748ZM126.647 187.939C116.201 188.392 107.118 189.377 99.3996 190.892C91.6814 192.407 85.0907 194.602 79.6452 197.475C74.1947 200.358 69.3467 203.763 65.1113 207.693L95.0867 123.675C96.2918 131.849 98.187 139.342 100.765 146.155C103.333 152.966 107.195 158.949 112.346 164.094C117.489 169.245 124.225 173.855 132.553 177.946C140.879 182.033 151.402 185.439 164.116 188.164C149.587 187.559 137.093 187.482 126.647 187.939Z'
        fill={pathVariant.fill}
        stroke={pathVariant.stroke}
        strokeWidth={stroke ? '1' : '0'}
      />
      <path
        d='M150.46 312.604C153.48 307.153 155.98 300.795 157.953 293.524C159.916 286.261 161.506 277.178 162.721 266.277C163.926 255.383 164.831 242.059 165.446 226.313C166.046 210.569 166.351 191.192 166.351 168.175C166.351 144.562 166.046 122.76 165.446 102.778C164.831 82.7913 163.926 65.8422 162.721 51.9133C161.506 38.2845 159.543 27.3159 156.818 18.9826C154.092 10.6618 151.062 4.5312 147.734 0.59082H240.383C239.473 5.43629 238.638 11.1944 237.883 17.85C237.126 24.5132 236.441 32.9165 235.84 43.0575C235.23 53.2034 234.773 65.4646 234.478 79.841C234.173 94.2274 234.02 111.562 234.02 131.844C234.02 159.091 234.25 181.878 234.703 200.2C235.155 218.522 235.84 234.184 236.746 247.205C237.656 260.224 239.018 271.655 240.833 281.493C242.649 291.334 245.069 301.7 248.102 312.604H150.46Z'
        fill={pathVariant.fill}
        stroke={pathVariant.stroke}
        strokeWidth={stroke ? '1' : '0'}
      />
    </svg>
  );
}

export default function Logo({
  size = 'sm',
  variant = 'dark',
  stroke = false,
}: LogoProps) {
  return (
    <LogoLink size={size}>
      <LambSvg variant={variant} stroke={stroke} />
    </LogoLink>
  );
}
